# Tmux 配置

Vi 风格操作 + 鼠标滚轮翻页 + 打字自动退出 copy-mode

## 一键安装

```bash
~/.config/tmux/install.sh
```

## 快捷键速查

### 前缀键

| 原始 | 当前 |
|------|------|
| `Ctrl+b` | `Ctrl+a` |

> 以下 `前缀` 均指 `Ctrl+a`

### 分屏

| 快捷键 | 功能 |
|--------|------|
| `前缀 + h` | 左右分屏 |
| `前缀 + v` | 上下分屏 |
| `Ctrl+Space` | 上下分屏并均分 |
| `Ctrl+F2` | 左右分屏 |
| `Ctrl+F4` | 创建 2×2 四面板 |
| `Ctrl+F6` | 创建 3+3 六面板 |

### 面板切换（Vim 风格）

| 快捷键 | 功能 |
|--------|------|
| `Alt+h` | 切换到左侧面板 |
| `Alt+j` | 切换到下方面板 |
| `Alt+k` | 切换到上方面板 |
| `Alt+l` | 切换到右侧面板 |
| `前缀 + z` | 放大/还原当前面板 |
| `前缀 + <` | 与上一个面板交换 |
| `前缀 + >` | 与下一个面板交换 |

### 鼠标滚轮翻页

| 操作 | 效果 |
|------|------|
| 滚轮向上 | 进入 copy-mode，翻看历史 |
| 继续滚动 | 翻页 |
| **打字** | **自动退出 copy-mode，字符正常输入** |
| `q` / `Escape` | 退出 copy-mode |

### 复制粘贴（Vi 风格）

| 快捷键 | 功能 |
|--------|------|
| `v` | 开始选择 |
| `y` | 复制选中内容并退出 |
| 鼠标拖选 | 自动复制到系统剪贴板 |
| `/` | 搜索 |
| `n` / `N` | 下一个/上一个匹配 |

### 窗口操作

| 快捷键 | 功能 |
|--------|------|
| `前缀 + c` | 新建窗口 |
| `前缀 + &` | 关闭窗口 |
| `前缀 + ,` | 重命名窗口 |

### 其他

| 快捷键 | 功能 |
|--------|------|
| `前缀 + r` | 重载配置 |
| `前缀 + s` | 切换同步输入模式（广播） |

## 配置文件位置

| 文件 | 路径 |
|------|------|
| 配置源文件 | `~/.config/tmux/tmux.conf` |
| 生效位置 | `~/.tmux.conf`（软链接） |
| 安装脚本 | `~/.config/tmux/install.sh` |

## 依赖

- `tmux` >= 2.4
- `xclip`（用于复制到系统剪贴板）

安装依赖：
```bash
# Ubuntu/Debian
sudo apt install tmux xclip

# Arch
sudo pacman -S tmux xclip
```

## 手动安装

```bash
# 备份旧配置
[ -f ~/.tmux.conf ] && mv ~/.tmux.conf ~/.tmux.conf.bak

# 创建软链接
ln -sf ~/.config/tmux/tmux.conf ~/.tmux.conf

# 重载配置（如果 tmux 正在运行）
tmux source-file ~/.tmux.conf
```
